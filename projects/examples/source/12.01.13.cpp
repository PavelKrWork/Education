////////////////////////////////////////////////////////////////

#include <array>
#include <cassert>
#include <cmath>
#include <charconv>
#include <iterator>

////////////////////////////////////////////////////////////////

auto equal(double x, double y, double epsilon = 1e-6)
{
	return std::abs(x - y) < epsilon;
}

////////////////////////////////////////////////////////////////

int main()
{
    std::array < char, 1'000 > array = {};

//  ------------------------------------------------------------

    auto begin = std::begin(array), end = std::end(array);

//  ------------------------------------------------------------

    std::to_chars(begin, end, 1.0, std::chars_format::fixed, 1);

//  ------------------------------------------------------------

    auto x = 0.0;

//  ------------------------------------------------------------

    std::from_chars(begin, end, x);

//  ------------------------------------------------------------

    assert(equal(x, 1.0));
}

////////////////////////////////////////////////////////////////