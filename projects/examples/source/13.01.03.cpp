/////////////////////////////////////////////////////////////////////////////////////

#include <cassert>
#include <iomanip>
#include <ios>
#include <sstream>

/////////////////////////////////////////////////////////////////////////////////////

auto test(std::stringstream & stream)
{
    auto string = stream.str();

    stream.str("");

    return string;
}

/////////////////////////////////////////////////////////////////////////////////////

int main()
{
    std::stringstream stream;

//  ---------------------------------------------------------------------------------

    auto flags = stream.flags();

//  ---------------------------------------------------------------------------------

    (stream << std::boolalpha << false << ", " << true).setf(flags);

//  ---------------------------------------------------------------------------------

    assert(test(stream) == "false, true");

//  ---------------------------------------------------------------------------------

    (stream << std::setw(8) << std::right << std::setfill('_') << 1).setf(flags);

//  ---------------------------------------------------------------------------------

    assert(test(stream) == "_______1");

//  ---------------------------------------------------------------------------------

    (stream << std::showbase << std::hex << 1).setf(flags);

//  ---------------------------------------------------------------------------------

    assert(test(stream) == "0x1");

//  ---------------------------------------------------------------------------------

    (stream << std::setprecision(6) << std::fixed << 1.0).setf(flags);

//  ---------------------------------------------------------------------------------

    assert(test(stream) == "1.000000");

//  ---------------------------------------------------------------------------------

    (stream << std::showpos << std::scientific << std::uppercase << 1.0).setf(flags);

//  ---------------------------------------------------------------------------------

    assert(test(stream) == "+1.0E+00");
}

/////////////////////////////////////////////////////////////////////////////////////