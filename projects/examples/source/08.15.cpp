////////////////////////////////////////////////////////////////////////////////////////////

#include <cassert>
#include <sstream>
#include <string>

////////////////////////////////////////////////////////////////////////////////////////////

using namespace std::literals;

////////////////////////////////////////////////////////////////////////////////////////////

#include "08.13.hpp"

////////////////////////////////////////////////////////////////////////////////////////////

int main()
{
	Integer x = std::string(32, '1');
	
	Integer y = std::string(32, '2');

//  ----------------------------------------------------------------------------------------

	assert((x += y) == "+33333333333333333333333333333333"s);

	assert((x -= y) == "+11111111111111111111111111111111"s);

	assert((x *= y) == "+246913580246913580246913580246908641975308641975308641975308642"s);

	assert((x /= y) == "+11111111111111111111111111111111"s);

//  ----------------------------------------------------------------------------------------

	assert((x ++  ) == "+11111111111111111111111111111111"s);

	assert((x --  ) == "+11111111111111111111111111111112"s);

	assert((  ++ y) == "+22222222222222222222222222222223"s);

	assert((  -- y) == "+22222222222222222222222222222222"s);

//  ----------------------------------------------------------------------------------------

	assert((x +  y) == "+33333333333333333333333333333333"s);

	assert((x -  y) == "-11111111111111111111111111111111"s);

	assert((x *  y) == "+246913580246913580246913580246908641975308641975308641975308642"s);

	assert((x /  y) == "+0"s);

//  ----------------------------------------------------------------------------------------

	assert((x <  y) == 1);

	assert((x >  y) == 0);

	assert((x <= y) == 1);

	assert((x >= y) == 0);

	assert((x == y) == 0);

	assert((x != y) == 1);

//  ----------------------------------------------------------------------------------------
	
	std::stringstream stream_1(std::string(32, '1'));

	std::stringstream stream_2;

//  ----------------------------------------------------------------------------------------
	
	stream_1 >> x;

	stream_2 << x;
	
//  ----------------------------------------------------------------------------------------
	
	assert(stream_2.str() == stream_1.str());

//  ----------------------------------------------------------------------------------------

	assert(sqrt(multiply(x, x)) == x);
}

////////////////////////////////////////////////////////////////////////////////////////////