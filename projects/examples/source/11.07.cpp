////////////////////////////////////////////////////////////////

#include <cassert>
#include <memory>
#include <utility>

////////////////////////////////////////////////////////////////

class Entity
{
public :

	void test()
	{ 
		[[maybe_unused]] auto lambda = [this](){ ++m_x; };
	}

private :

	int m_x = 0;
};

////////////////////////////////////////////////////////////////

int main()
{
	auto x = 1, y = 2;

//  ------------------------------------------------------------

	auto z1 = std::make_unique < int > (1);

//  ------------------------------------------------------------

	auto lambda_1 = [x, &y]() mutable { ++x, ++y; };

	auto lambda_2 = [&    ]()         { ++x, ++y; };

	auto lambda_3 = [=    ]() mutable { ++x, ++y; };

//  ------------------------------------------------------------

	auto lambda_4 = [z2 = std::move(z1)](){ assert(*z2 == 1); };

//  ------------------------------------------------------------

	lambda_1(); assert(x == 1 && y == 3);

	lambda_2(); assert(x == 2 && y == 4);

	lambda_3(); assert(x == 2 && y == 4);

//  ------------------------------------------------------------

	lambda_4();

//  ------------------------------------------------------------

	Entity().test();
}

////////////////////////////////////////////////////////////////