//////////////////////////////////////////////////////////////////////

// support : en.wikipedia.org/wiki/Hyper-threading

//////////////////////////////////////////////////////////////////////

#include <iostream>
#include <thread>
#include <vector>

//////////////////////////////////////////////////////////////////////

void test()
{
    std::cout << "test : id = " << std::this_thread::get_id() << '\n';
}

//////////////////////////////////////////////////////////////////////

int main()
{
    std::vector < std::jthread > threads;

//  ----------------------------------------------------------------

    for (auto i = 0uz; i < std::thread::hardware_concurrency(); ++i)
    {
        threads.emplace_back(test);
    }
}

//////////////////////////////////////////////////////////////////////